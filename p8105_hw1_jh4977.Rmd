---
title: "p8105_hw1_jh4977"
author: "jh4977"
date: "2025-09-18"
output: github_document
---

## Problem 1

Firstly, we input the dataset:

```{r}
library(moderndive)
data("early_january_weather", package = "moderndive")
```

```
Then, we give a short description of the penguins dataset and show variables, size and mean:

According to the `View()` and `summary()` results, the dataset 
`early_january_weather` contains `r nrow(early_january_weather)` 
observations and `r ncol(early_january_weather)` variables. The 
variables include weather station origin, date and time information 
(`year`, `month`, `day`, `hour`, `time_hour`), and several 
meteorological measurements such as temperature (`temp`), dew point 
(`dewp`), humidity (`humid`), wind direction (`wind_dir`), wind speed 
(`wind_speed`), wind gust (`wind_gust`), precipitation (`precip`), 
pressure (`pressure`), and visibility (`visib`).  

The mean temperature is about `r round(mean(early_january_weather$temp, 
na.rm = TRUE), 1)` 째F, with values ranging from 
`r round(min(early_january_weather$temp, na.rm = TRUE), 1)` 째F to 
`r round(max(early_january_weather$temp, na.rm = TRUE), 1)` 째F. The 
mean relative humidity is around 
`r round(mean(early_january_weather$humid, na.rm = TRUE), 1)`%, with 
observations spanning from 
`r round(min(early_january_weather$humid, na.rm = TRUE), 1)`% to 
`r round(max(early_january_weather$humid, na.rm = TRUE), 1)`%.  

Wind speed averages about 
`r round(mean(early_january_weather$wind_speed, na.rm = TRUE), 1)` mph, 
and visibility is generally high, with a median of 
`r round(median(early_january_weather$visib, na.rm = TRUE), 1)` miles.  
Data were collected from New York City airports during the first half 
of January 2013.  

Next, we should make a scatterplot and save it.

```{r}
library(ggplot2)

p_temp_time <- ggplot(early_january_weather,
                      aes(x = time_hour, y = temp, color = humid)) +
  geom_point(alpha = 0.8) +
  labs(x = "Time (hourly)",
       y = "Temperature (째F)",
       color = "Humidity (%)",
       title = "Hourly Temperature vs Time")

p_temp_time

ggsave("scatterplot_temp_vs_time.png",p_temp_time)

```

The scatterplot shows that temperature follows a clear daily cycle, with lower values at night and higher values during the daytime. Over the first two weeks of January 2013, there is also a general warming trend, with temperatures gradually increasing after January 6. In addition, the plot suggests that higher humidity is often associated with lower temperatures, while lower humidity tends to occur when temperatures are higher.


## Problem 2

Firstly, create a data frame:

```{r}
library(tidyverse)
set.seed(123)

normal_sample <- rnorm(10)
logical_vector <- normal_sample > 0
char_vector <- c("A", "B", "C", "D", "E", "F", "G", "H", "I", "J")
factor_vector <- factor(sample(c("L0", "L1", "L2"), 10, replace = TRUE))

df <- tibble(
  Normal_Sample = normal_sample,
  Logical_Vector = logical_vector,
  Char_Vector = char_vector,
  Factor_Vector = factor_vector
)
```


Then,take the mean of each variable in data frame:

```{r}
mean(pull(df, Normal_Sample))
mean(pull(df, Logical_Vector))
mean(pull(df, Char_Vector))
mean(pull(df, Factor_Vector))
```
Mean cannot be calculated:
Character Vector:
Factor Vector

Mean can be calculated:
Normal Sample:0.07462564
Logical vector: 0.5


Finally, we try to convert variables from one type to another:

```{r}
logical_numeric <- as.numeric(pull(df, Logical_Vector))
char_numeric <- as.numeric(pull(df, Char_Vector))
factor_numeric <- as.numeric(pull(df, Factor_Vector))

logical_numeric
factor_numeric
```
When a logical vector is converted to numeric, TRUE becomes 1 and FALSE becomes 0, so taking the mean gives the proportion of TRUE values. 

For a character vector, conversion to numeric produces NA since characters have no numeric meaning, so the mean cannot be calculated. 

For a factor vector, conversion returns the underlying integer codes of the levels (e.g., L0=1, L1=2, L2=3); the mean is then computed on these codes, which do not represent the actual factor levels, so the result is not meaningful.
